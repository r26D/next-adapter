var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=shouldUpdate;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _chalk=_interopRequireDefault(require("chalk"));var _updateCheck=_interopRequireDefault(require("update-check"));var packageJson=function packageJson(){return require('@r26d/next-adapter/package.json');};function shouldUpdate(){var update,res,_packageJson;return _regenerator.default.async(function shouldUpdate$(_context){while(1){switch(_context.prev=_context.next){case 0:update=(0,_updateCheck.default)(packageJson()).catch(function(){return null;});_context.prev=1;_context.next=4;return _regenerator.default.awrap(update);case 4:res=_context.sent;if(res&&res.latest){_packageJson=packageJson();console.log();console.log(_chalk.default.yellow.bold("A new version of `"+_packageJson.name+"` is available"));console.log('You can update by running: '+_chalk.default.cyan("npm i -g "+_packageJson.name));console.log();}_context.next=10;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);case 10:case"end":return _context.stop();}}},null,null,[[1,8]],Promise);}